<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>

<head>
    <title>CC Host API Documenation for: CCTable</title>
    <link rel="stylesheet" type="text/css" href="apidoc.css"/>
</head>
<body>
<div class="cc_all_content">

    <div class="cc_banner">
       <a class="cc_banner_link" href="http://cchost.org" title="CC Host">
         <span class="cc_site_title">CC Host</span>
       </a>
    </div>

    <div class="cc_site_description">Download, Sample, Cut-up, Share.</div>

    <div id="" class="cc_content">

    
      
    
    <div class="method_stubs">
    <div class="meth_head">Methods</div>
    
      <a href="#AddExtraColumn">AddExtraColumn</a><br/>
    
      <a href="#AddJoin">AddJoin</a><br/>
    
      <a href="#CCTable">CCTable</a><br/>
    
      <a href="#CountRows">CountRows</a><br/>
    
      <a href="#DeleteKey">DeleteKey</a><br/>
    
      <a href="#DeleteWhere">DeleteWhere</a><br/>
    
      <a href="#FakeJoin">FakeJoin</a><br/>
    
      <a href="#GetRecordFromRow">GetRecordFromRow</a><br/>
    
      <a href="#GetRecordsFromRows">GetRecordsFromRows</a><br/>
    
      <a href="#GetTable">GetTable</a><br/>
    
      <a href="#Insert">Insert</a><br/>
    
      <a href="#InsertBatch">InsertBatch</a><br/>
    
      <a href="#NextID">NextID</a><br/>
    
      <a href="#Query">Query</a><br/>
    
      <a href="#QueryItem">QueryItem</a><br/>
    
      <a href="#QueryItemFromKey">QueryItemFromKey</a><br/>
    
      <a href="#QueryKey">QueryKey</a><br/>
    
      <a href="#QueryKeyRow">QueryKeyRow</a><br/>
    
      <a href="#QueryRow">QueryRow</a><br/>
    
      <a href="#QueryRows">QueryRows</a><br/>
    
      <a href="#RemoveJoin">RemoveJoin</a><br/>
    
      <a href="#SetOffsetAndLimit">SetOffsetAndLimit</a><br/>
    
      <a href="#SetOrder">SetOrder</a><br/>
    
      <a href="#SetSort">SetSort</a><br/>
    
      <a href="#Update">Update</a><br/>
    
      <a href="#UpdateWhere">UpdateWhere</a><br/>
    
      <a href="#_add_offset_limit">_add_offset_limit</a><br/>
    
      <a href="#_get_select">_get_select</a><br/>
    
      <a href="#_where_to_string">_where_to_string</a><br/>
    
    </div>

  <div class="class_listing">
    <table>
    <tr><td colspan="2">
       <span class="arg_type">class</span> <span class="class_name">CCTable</span>
        
       </td></tr>
       <tr><td class="head"><span class="arg_type">include </span></td>
           <td class="head_value">cc-table.php</td></tr>
       <tr>
            <td class="head">Derived classes:</td>
            <td class="head_value"><a href="CCConfigs.html">CCConfigs</a>, <a href="CCContests.html">CCContests</a>, <a href="CCLicenses.html">CCLicenses</a>, <a href="CCPolls.html">CCPolls</a>, <a href="CCRemixTree.html">CCRemixTree</a>, <a href="CCSecurityKeys.html">CCSecurityKeys</a>, <a href="CCTags.html">CCTags</a>, <a href="CCUploads.html">CCUploads</a>, <a href="CCUsers.html">CCUsers</a></td></tr>
      <tr><td class="head">Short Desc.:</td>
          <td class="head_value"><span class="class_desc">Bass class for use by singleton table representations</span></td></tr>
      
      
    </table>
    <div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="AddExtraColumn"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">AddExtraColumn</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$spec </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">Valid mySQL string for defining a virtual column
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">For use by derived class, adds a column to SELECT statement.</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value">This method is useful to formatting fields such as date or numerics.
<br /><br />
In a derived class' contstructor:
<br /><br />
<code><font color="#000000">
<font color="#0000BB">&lt;? 
<br />&nbsp;&nbsp;&nbsp;$this</font><font color="#007700">-&gt;</font><font color="#0000BB">AddExtraColumn</font><font color="#007700">(</font><font color="#DD0000">'DATE_FORMAT(upload_date, \'$CC_SQL_DATE\') as upload_date_format'</font><font color="#007700">);
<br /> </font><font color="#0000BB">?&gt;</font>
</font>
</code></td></tr>
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="AddJoin"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">AddJoin</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$other_cctable </td>
        <td class="arg_default">,  </td>
        <td class="arg_desc">Instance of a CCTable class to JOIN with
 </td></tr>
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$joinfield </td>
        <td class="arg_default">,  </td>
        <td class="arg_desc">Name of field in <b>this< </td></tr>
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$jointype </td>
        <td class="arg_default">=  'LEFT OUTER'  </td>
        <td class="arg_desc">Valid mySQL type of JOIN 
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">For use by derived class, adds a JOIN to SELECT statement.</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value">This method is useful to expanding the information returned by Query()
<br /><br />
In a derived class' contstructor:
<br /><br />
<code><font color="#000000">
<font color="#0000BB">&lt;? 
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</font><font color="#007700">-&gt;</font><font color="#0000BB">AddJoin</font><font color="#007700">( new </font><font color="#0000BB">CCUsers</font><font color="#007700">(),&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#DD0000">'upload_user'</font><font color="#007700">);
<br /> </font><font color="#0000BB">?&gt;</font>
</font>
</code></td></tr>
        <tr>
          <td class="head">See also: </td>
          <td class="head_value"><a href="#RemoveJoin">RemoveJoin
</a></td></tr>
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="CCTable"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">CCTable</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$table_name </td>
        <td class="arg_default">,  </td>
        <td class="arg_desc">Name in the mySQL database
 </td></tr>
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$key_field </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">Field to use in JOINs and key lookups
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Constructor</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="CountRows"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">CountRows</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type"> </td>
        <td class="arg_name">$where </td>
        <td class="arg_default">=  ''  </td>
        <td class="arg_desc"> </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">(undocumented method)</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="DeleteKey"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">DeleteKey</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type"> </td>
        <td class="arg_name">$key </td>
        <td class="arg_default"> </td>
        <td class="arg_desc"> </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">(undocumented method)</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="DeleteWhere"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">DeleteWhere</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type"> </td>
        <td class="arg_name">$where </td>
        <td class="arg_default"> </td>
        <td class="arg_desc"> </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">(undocumented method)</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="FakeJoin"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">FakeJoin</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type"> </td>
        <td class="arg_name">$fake_record </td>
        <td class="arg_default"> </td>
        <td class="arg_desc"> </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">(undocumented method)</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="GetRecordFromRow"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">GetRecordFromRow</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">array </td>
        <td class="arg_name">$row </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">Row as retrieved from the database
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       <tr>
        <td class="head">Returns:</td>
            <td class="head_value">
             <span class="arg_type">array</span> 
              A 'record' that has runtime data
</td></tr>
       
       <tr>
            <td class="head">Overriden:</td>
           <td class="head_value">
              <a href="CCContests.html#GetRecordFromRow">CCContests</a>
              , 
            
              <a href="CCUploads.html#GetRecordFromRow">CCUploads</a>
              , 
            
              <a href="CCUsers.html#GetRecordFromRow">CCUsers</a>
              
            </td></tr>
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Convert a database 'row' to a more semantically rich 'record'</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value">This method is abstract (returns $row). Derived classes
implement this method for shortly after a row from the database has
been returned to fill the row with semantically rich, runtime data.</td></tr>
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="GetRecordsFromRows"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">GetRecordsFromRows</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type"> </td>
        <td class="arg_name">$rows </td>
        <td class="arg_default"> </td>
        <td class="arg_desc"> </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       <tr>
        <td class="head">Returns:</td>
            <td class="head_value">
             <span class="arg_type">array</span> 
              Records that has runtime formatted data
</td></tr>
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Convert database 'rows' to a more semantically rich 'records'</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="GetTable"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">GetTable</td>
          <td>
   ()
   
</td></tr></table></div>

       <table>
       <tr>
        <td class="head">Returns:</td>
            <td class="head_value">
             <span class="arg_type">object</span> 
              Returns a singleton instance of this object.
</td></tr>
       
       <tr>
            <td class="head">Overriden:</td>
           <td class="head_value">
              <a href="CCConfigs.html#GetTable">CCConfigs</a>
              , 
            
              <a href="CCContests.html#GetTable">CCContests</a>
              , 
            
              <a href="CCLicenses.html#GetTable">CCLicenses</a>
              , 
            
              <a href="CCPolls.html#GetTable">CCPolls</a>
              , 
            
              <a href="CCRemixes.html#GetTable">CCRemixes</a>
              , 
            
              <a href="CCRemixSources.html#GetTable">CCRemixSources</a>
              , 
            
              <a href="CCSecurityKeys.html#GetTable">CCSecurityKeys</a>
              , 
            
              <a href="CCTags.html#GetTable">CCTags</a>
              , 
            
              <a href="CCUploads.html#GetTable">CCUploads</a>
              , 
            
              <a href="CCUsers.html#GetTable">CCUsers</a>
              
            </td></tr>
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Get an instance of this table.</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value">This method is abstract (not actually implemented here) static call
implemented by derived classes to return a singleton instance of themselves.
<br /><br />
Tables should <i>rarely</i> be instantiated with 'new'. Instead, call GetTable()
to get a singleton instance of the class:
<br /><br />
<code><font color="#000000">
<font color="#0000BB">&lt;? 
<br />&nbsp;&nbsp;&nbsp;&nbsp;$uploads </font><font color="#007700">=&amp; </font><font color="#0000BB">CCUploads</font><font color="#007700">::</font><font color="#0000BB">GetTable</font><font color="#007700">();
<br /> </font><font color="#0000BB">?&gt;</font>
</font>
</code>
<br /><br />
Where CCUploads is a derivation of CCTable.</td></tr>
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="Insert"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">Insert</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type"> </td>
        <td class="arg_name">$fields </td>
        <td class="arg_default"> </td>
        <td class="arg_desc"> </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">(undocumented method)</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="InsertBatch"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">InsertBatch</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type"> </td>
        <td class="arg_name">$columns </td>
        <td class="arg_default">,  </td>
        <td class="arg_desc"> </td></tr>
     <tr>
        <td class="arg_type"> </td>
        <td class="arg_name">$values </td>
        <td class="arg_default"> </td>
        <td class="arg_desc"> </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">(undocumented method)</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="NextID"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">NextID</td>
          <td>
   ()
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">(undocumented method)</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="Query"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">Query</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">mixed </td>
        <td class="arg_name">$where </td>
        <td class="arg_default">= '' </td>
        <td class="arg_desc">mySQL WHERE clause as string or array 
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       <tr>
        <td class="head">Returns:</td>
            <td class="head_value">
             <span class="arg_type">mixed</span> 
              Results of mySQL query
</td></tr>
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Query from the virtual table</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value">The $where parameter can either be a mySQL WHERE clause (without the WHERE)
or it can be an array where the key is the column name and the value is what 
to test for.
<br /><br />
<code><font color="#000000">
<font color="#0000BB">&lt;? 
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// The following is the equivalent of:
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;...WHERE ('upload_file_name' = 'myfile.mp3') AND ('upload_user' = 204 )
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$where</font><font color="#007700">[</font><font color="#DD0000">'upload_file_name'</font><font color="#007700">] = </font><font color="#DD0000">'myfile.mp3'</font><font color="#007700">;
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$where</font><font color="#007700">[</font><font color="#DD0000">'upload_user'</font><font color="#007700">]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= </font><font color="#0000BB">204</font><font color="#007700">;
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$row </font><font color="#007700">=&amp; </font><font color="#0000BB">$table</font><font color="#007700">-&gt;</font><font color="#0000BB">Query</font><font color="#007700">(</font><font color="#0000BB">$where</font><font color="#007700">);
<br /> </font><font color="#0000BB">?&gt;</font>
</font>
</code></td></tr>
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="QueryItem"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">QueryItem</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$column_name </td>
        <td class="arg_default">,  </td>
        <td class="arg_desc">Name of table's column
 </td></tr>
     <tr>
        <td class="arg_type">mixed </td>
        <td class="arg_name">$where </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">string or array representing WHERE clause
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       <tr>
        <td class="head">Returns:</td>
            <td class="head_value">
             <span class="arg_type">mixed</span> 
              Item from database 
</td></tr>
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Return the value of a single item.</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value"><code><font color="#000000">
<font color="#0000BB">&lt;? 
<br />&nbsp;&nbsp;&nbsp;$where</font><font color="#007700">[</font><font color="#DD0000">'user_id'</font><font color="#007700">] = </font><font color="#0000BB">10</font><font color="#007700">;
<br />&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$name </font><font color="#007700">= </font><font color="#0000BB">$table</font><font color="#007700">-&gt;</font><font color="#0000BB">QueryItem</font><font color="#007700">(</font><font color="#DD0000">'user_name'</font><font color="#007700">, </font><font color="#0000BB">$where </font><font color="#007700">);
<br /> </font><font color="#0000BB">?&gt;</font>
</font>
</code></td></tr>
        <tr>
          <td class="head">See also: </td>
          <td class="head_value"><a href="#Query">Query
</a></td></tr>
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="QueryItemFromKey"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">QueryItemFromKey</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$column_name </td>
        <td class="arg_default">,  </td>
        <td class="arg_desc">Name of table's column
 </td></tr>
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$key </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">Key value
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       <tr>
        <td class="head">Returns:</td>
            <td class="head_value">
             <span class="arg_type">mixed</span> 
              Item from database 
</td></tr>
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Return an item from the record where key is $key</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value"><code><font color="#000000">
<font color="#0000BB">&lt;? 
<br />&nbsp;&nbsp;&nbsp;$name </font><font color="#007700">= </font><font color="#0000BB">$table</font><font color="#007700">-&gt;</font><font color="#0000BB">QueryItemFromKey</font><font color="#007700">(</font><font color="#DD0000">'user_name'</font><font color="#007700">,</font><font color="#0000BB">1058</font><font color="#007700">);
<br /> </font><font color="#0000BB">?&gt;</font>
</font>
</code></td></tr>
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="QueryKey"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">QueryKey</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">mixed </td>
        <td class="arg_name">$where </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">string or array representing WHERE clause
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       <tr>
        <td class="head">Returns:</td>
            <td class="head_value">
             <span class="arg_type">mixed</span> 
              Item from database, typically a primary key number
</td></tr>
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Return the key for a record that matches the $where clause</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value"><code><font color="#000000">
<font color="#0000BB">&lt;? 
<br />&nbsp;&nbsp;&nbsp;$where</font><font color="#007700">[</font><font color="#DD0000">'user_name'</font><font color="#007700">] = </font><font color="#DD0000">'Fred'</font><font color="#007700">;
<br />&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$key </font><font color="#007700">= </font><font color="#0000BB">$table</font><font color="#007700">-&gt;</font><font color="#0000BB">QueryKey</font><font color="#007700">(</font><font color="#0000BB">$where </font><font color="#007700">);
<br /> </font><font color="#0000BB">?&gt;</font>
</font>
</code></td></tr>
        <tr>
          <td class="head">See also: </td>
          <td class="head_value"><a href="#Query">Query
</a></td></tr>
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="QueryKeyRow"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">QueryKeyRow</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$key </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">Key value
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       <tr>
        <td class="head">Returns:</td>
            <td class="head_value">
             <span class="arg_type">array</span> 
              Row from database
</td></tr>
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Return the row for the record where key is $key</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value">The constructor of this class determines what the key column
is.
<br /><br />
<code><font color="#000000">
<font color="#0000BB">&lt;? 
<br />&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// return the row the record whose key value is '4501'
<br />&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$row </font><font color="#007700">=&amp; </font><font color="#0000BB">$table</font><font color="#007700">-&gt;</font><font color="#0000BB">QueryKeyRow</font><font color="#007700">(</font><font color="#0000BB">4501</font><font color="#007700">);
<br /> </font><font color="#0000BB">?&gt;</font>
</font>
</code></td></tr>
        <tr>
          <td class="head">See also: </td>
          <td class="head_value"><a href="#CCTable">CCTable
</a></td></tr>
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="QueryRow"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">QueryRow</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">mixed </td>
        <td class="arg_name">$where </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">string or array representing WHERE clause
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       <tr>
        <td class="head">Returns:</td>
            <td class="head_value">
             <span class="arg_type">array</span> 
              Row from database
</td></tr>
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Returns a single row that matches a query</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value"><code><font color="#000000">
<font color="#0000BB">&lt;? 
<br />&nbsp;&nbsp;&nbsp;$where</font><font color="#007700">[</font><font color="#DD0000">'user_name'</font><font color="#007700">] = </font><font color="#DD0000">'Fred'</font><font color="#007700">;
<br />&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$row </font><font color="#007700">=&amp; </font><font color="#0000BB">$table</font><font color="#007700">-&gt;</font><font color="#0000BB">QueryRow</font><font color="#007700">(</font><font color="#0000BB">$where </font><font color="#007700">);
<br /> </font><font color="#0000BB">?&gt;</font>
</font>
</code></td></tr>
        <tr>
          <td class="head">See also: </td>
          <td class="head_value"><a href="#Query">Query
</a></td></tr>
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="QueryRows"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">QueryRows</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">mixed </td>
        <td class="arg_name">$where </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">string or array representing WHERE clause
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       <tr>
        <td class="head">Returns:</td>
            <td class="head_value">
             <span class="arg_type">array</span> 
              Array of rows from database
</td></tr>
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Returns an array  of rows that matches a query</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value"><code><font color="#000000">
<font color="#0000BB">&lt;? 
<br />&nbsp;&nbsp;&nbsp;$where</font><font color="#007700">[</font><font color="#DD0000">'user_name'</font><font color="#007700">] = </font><font color="#DD0000">'Fred'</font><font color="#007700">;
<br />&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$rows </font><font color="#007700">=&amp; </font><font color="#0000BB">$table</font><font color="#007700">-&gt;</font><font color="#0000BB">QueryRows</font><font color="#007700">(</font><font color="#0000BB">$where </font><font color="#007700">);
<br />&nbsp;&nbsp;&nbsp;foreach( </font><font color="#0000BB">$rows </font><font color="#007700">as </font><font color="#0000BB">$row </font><font color="#007700">)
<br />&nbsp;&nbsp;&nbsp;{
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// ....
<br />&nbsp;&nbsp;&nbsp;</font><font color="#007700">}
<br /> </font><font color="#0000BB">?&gt;</font>
</font>
</code></td></tr>
        <tr>
          <td class="head">See also: </td>
          <td class="head_value"><a href="#Query">Query
</a></td></tr>
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="RemoveJoin"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">RemoveJoin</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">mixed </td>
        <td class="arg_name">$joinid </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">Token returned from AddJoin()
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">For use by derived class, removed a previously added JOIN to SELECT statement.</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value">This method will remove a JOIN placed on queries by AddJoin</td></tr>
        <tr>
          <td class="head">See also: </td>
          <td class="head_value"><a href="#AddJoin">AddJoin
</a></td></tr>
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="SetOffsetAndLimit"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">SetOffsetAndLimit</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">integer </td>
        <td class="arg_name">$offset </td>
        <td class="arg_default">,  </td>
        <td class="arg_desc">Row number to start query
 </td></tr>
     <tr>
        <td class="arg_type">integer </td>
        <td class="arg_name">$limit </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">Maximun number of rows to return
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Set row offset and limit number of rows returned from queries</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value">Set both parameters to 0 to reset.</td></tr>
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="SetOrder"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">SetOrder</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$order_expression </td>
        <td class="arg_default">,  </td>
        <td class="arg_desc">Typically a column but can be any valid mySQL expressions
 </td></tr>
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$dir </td>
        <td class="arg_default">=  'ASC' </td>
        <td class="arg_desc">Either ASC or DESC
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Alias for SetSort</td></tr>
        
        <tr>
          <td class="head">See also: </td>
          <td class="head_value"><a href="#SetSort">SetSort
</a></td></tr>
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="SetSort"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">SetSort</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$order_expression </td>
        <td class="arg_default">,  </td>
        <td class="arg_desc">Typically a column but can be any valid mySQL expressions
 </td></tr>
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$dir </td>
        <td class="arg_default">=  'ASC' </td>
        <td class="arg_desc">Either ASC or DESC
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Set the sort order for the next Query</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="Update"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">Update</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type"> </td>
        <td class="arg_name">$fields </td>
        <td class="arg_default">,  </td>
        <td class="arg_desc"> </td></tr>
     <tr>
        <td class="arg_type"> </td>
        <td class="arg_name">$autoquote </td>
        <td class="arg_default">= true </td>
        <td class="arg_desc"> </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">(undocumented method)</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="UpdateWhere"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">UpdateWhere</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type"> </td>
        <td class="arg_name">$fields </td>
        <td class="arg_default">,  </td>
        <td class="arg_desc"> </td></tr>
     <tr>
        <td class="arg_type"> </td>
        <td class="arg_name">$where </td>
        <td class="arg_default">,  </td>
        <td class="arg_desc"> </td></tr>
     <tr>
        <td class="arg_type"> </td>
        <td class="arg_name">$autoquote </td>
        <td class="arg_default">= true </td>
        <td class="arg_desc"> </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">(undocumented method)</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="_add_offset_limit"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">_add_offset_limit</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$sql </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">A reference to the current SELECT statment to be appended
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Internal helper to add OFFSET and LIMIT quota to SELECT statements</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="_get_select"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">_get_select</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">mixed </td>
        <td class="arg_name">$where </td>
        <td class="arg_default">,  </td>
        <td class="arg_desc">string or array representing WHERE clause
 </td></tr>
     <tr>
        <td class="arg_type">string </td>
        <td class="arg_name">$columns </td>
        <td class="arg_default">= '*' </td>
        <td class="arg_desc">SELECT will be limited to these columns
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       <tr>
        <td class="head">Returns:</td>
            <td class="head_value">
             <span class="arg_type">string</span> 
              Fully formed SELECT statement
</td></tr>
       
       <tr>
            <td class="head">Overriden:</td>
           <td class="head_value">
              <a href="CCContests.html#_get_select">CCContests</a>
              , 
            
              <a href="CCUploads.html#_get_select">CCUploads</a>
              
            </td></tr>
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Internal helper that actually constructs SELECT statements</td></tr>
        
        
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="_where_to_string"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">_where_to_string</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">mixed </td>
        <td class="arg_name">$where </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">either query string or array of 'column' => 'value' to test for
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       <tr>
        <td class="head">Returns:</td>
            <td class="head_value">
             <span class="arg_type">string</span> 
              WHERE clause (without the WHERE)
</td></tr>
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">For use by derived class if they implement _get_select</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value">This method verifies the WHERE part of a mySQL query. It should
only be used if a derived class</td></tr>
        
        </table>
    </div>

    </div>
 </div>

    

    </div> 

    <div class="cc_content_clear"></div>

    <div class="cc_footer"><br clear="both"><br /><br /><br />
This site is a product of <a href="http://sourceforge.net/projects/cctools/">CC Tools</a> project.<br />

This site uses <a href="http://getid3.sourceforge.net/">GetID3</a> and <a href="http://phptal.sourceforge.net/">PHPTal</a>.
<br /><br /></div>
    <div class="cc_site_license"><!-- Creative Commons License -->

<a rel="license" href="http://creativecommons.org/licenses/by-nc/2.0/"><img alt="Creative Commons License" border="0" src="http://creativecommons.org/images/public/somerights20.gif" /></a><br />

This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/2.0/">Creative Commons License</a></div>

</div> 
</body>











</html>
