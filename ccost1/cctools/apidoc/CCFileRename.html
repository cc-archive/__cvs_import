<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>

<head>
    <title>CC Host API Documenation for: CCFileRename</title>
    <link rel="stylesheet" type="text/css" href="apidoc.css"/>
</head>
<body>
<div class="cc_all_content">

    <div class="cc_banner">
       <a class="cc_banner_link" href="http://cchost.org" title="CC Host">
         <span class="cc_site_title">CC Host</span>
       </a>
    </div>

    <div class="cc_site_description">Download, Sample, Cut-up, Share.</div>

    <div id="" class="cc_content">

    
      
    
    <div class="method_stubs">
    <div class="meth_head">Methods</div>
    
      <a href="#AdminRenaming">AdminRenaming</a><br/>
    
      <a href="#OnBuildMenu">OnBuildMenu</a><br/>
    
      <a href="#OnMapUrls">OnMapUrls</a><br/>
    
      <a href="#Rename">Rename</a><br/>
    
    </div>

  <div class="class_listing">
    <table>
    <tr><td colspan="2">
       <span class="arg_type">class</span> <span class="class_name">CCFileRename</span>
        
       </td></tr>
       <tr><td class="head"><span class="arg_type">include </span></td>
           <td class="head_value">cc-filerename.php</td></tr>
       
      <tr><td class="head">Short Desc.:</td>
          <td class="head_value"><span class="class_desc">(undocumented class)</span></td></tr>
      
      
    </table>
    <div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="AdminRenaming"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">AdminRenaming</td>
          <td>
   ()
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Handler for admin/renaming - put up form</td></tr>
        
        <tr>
          <td class="head">See also: </td>
          <td class="head_value"><a href="CCAdminRename.html#CCAdminRename">CCAdminRename::CCAdminRename</a></td></tr>
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="OnBuildMenu"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">OnBuildMenu</td>
          <td>
   ()
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Event handler for building menus</td></tr>
        
        <tr>
          <td class="head">See also: </td>
          <td class="head_value"><a href="CCMenu.html#AddItems">CCMenu::AddItems</a></td></tr>
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="OnMapUrls"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">OnMapUrls</td>
          <td>
   ()
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Event handler for mapping urls to methods</td></tr>
        
        <tr>
          <td class="head">See also: </td>
          <td class="head_value"><a href="CCEvents.html#MapUrl">CCEvents::MapUrl</a></td></tr>
        </table>
    </div>

    </div><div class="class_methods">
        
  <hr class="method_border"/>
   <div class="methods_table">
       <a name="Rename"></a>
       <div class="method_sig_div">
       <table class="method_sig"><tr>
          <td class="method_name">Rename</td>
          <td>
   
   (<table class="args_table">
     <tr>
        <td class="arg_type">array </td>
        <td class="arg_name">$record </td>
        <td class="arg_default"> </td>
        <td class="arg_desc">Database record of upload
 </td></tr>
     <tr><td colspan="4">)</td></tr></table>
   
</td></tr></table></div>

       <table>
       
       
       
        <tr>
          <td class="head">Short Desc.:</td>
           <td class="head_value">Method that does the upload renaming according to rules set by user</td></tr>
        <tr>
          <td class="head">Description:</td>
          <td class="head_value">Every module in the system has the opportunity to participate in the renaming
rules by responding to CC_EVENT_GET_MACROS event (triggered by this method).
If the handler thinks it 'owns' the upload it should return the 'mask' to 
use. All respondents are responsible for retuning the macro in the mask as
well as the value associated with the upload record.
This method is called by checking for the global '$CC_RENAMER' and then
calling $CC_RENAMER->Rename($record).
If everything works out OK, this method will populate the 'upload_file_name'
field;
<code><font color="#000000">
<font color="#0000BB">&lt;? <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// get $record from database or user filled out form...<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$oldname </font><font color="#007700">= </font><font color="#0000BB">$record</font><font color="#007700">[</font><font color="#DD0000">'upload_file_name'</font><font color="#007700">];<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if( isset(</font><font color="#0000BB">$CC_RENAMER</font><font color="#007700">) )<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if( </font><font color="#0000BB">$CC_RENAMER</font><font color="#007700">-&gt;</font><font color="#0000BB">Rename</font><font color="#007700">(</font><font color="#0000BB">$record</font><font color="#007700">) )<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">rename</font><font color="#007700">( </font><font color="#0000BB">$oldname</font><font color="#007700">, </font><font color="#0000BB">$record</font><font color="#007700">[</font><font color="#DD0000">'upload_file_name'</font><font color="#007700">] );<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$uploads</font><font color="#007700">-&gt;</font><font color="#0000BB">Update</font><font color="#007700">(</font><font color="#0000BB">$record</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /> </font><font color="#0000BB">?&gt;</font>
</font>
</code></td></tr>
        <tr>
          <td class="head">See also: </td>
          <td class="head_value"><a href="CCUpload.html#PostProcessUploadNoUI">CCUpload::PostProcessUploadNoUI</a></td></tr>
        </table>
    </div>

    </div>
 </div>

    

    </div> 

    <div class="cc_content_clear"></div>

    <div class="cc_footer"><br clear="both"><br /><br /><br />
This site is a product of <a href="http://sourceforge.net/projects/cctools/">CC Tools</a> project.<br />

This site uses <a href="http://getid3.sourceforge.net/">GetID3</a> and <a href="http://phptal.sourceforge.net/">PHPTal</a>.
<br /><br /></div>
    <div class="cc_site_license"><!-- Creative Commons License -->

<a rel="license" href="http://creativecommons.org/licenses/by-nc/2.0/"><img alt="Creative Commons License" border="0" src="http://creativecommons.org/images/public/somerights20.gif" /></a><br />

This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/2.0/">Creative Commons License</a></div>

</div> 
</body>











</html>
